<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>
        Login Service
    </title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <link rel="stylesheet" type="text/css" href="../../css/codesnippets/sunburst.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    <style>
        body{
            padding-top : 60px;
        }
    </style>
</head>
<body>
    <div class="container">
        <hr />
        <div class="jumbotron">
            <h1>Login Service using Node</h1>
            <h6>Click on the link below to see the experiment</h6>
            <a href="http://developeride-ishashah112.rhcloud.com/EXP2.html" target="_blank">User Login</a>
        </div>
        <p><b>Username: isha Password: isha</b></p>
        <p><b>Username: admin Password: admin</b></p>
        <h2>About the Experiment</h2>
        
        <p>
            In this experiment, I have continued with user profile as done in Angular experiments. But here, I am storing the user info on server so that it maintains the state till the server is on. In this experiment I have done the first step that is login. When user enters valid username and password, it goes back to the server and after doing validation he is able to login if the result match.
        </p>

        <span id="text">
            <pre class="prettyprint">
    app.post('/login', function (req, res) {
    var username = req.body.username;
    var password = req.body.password;
    var currentUser = null;

    for (var index in users) {
        if (users[index].username == username && users[index].password == password) {
            currentUser = users[index];
        }
    }
    res.json(currentUser);
});
            </pre>
        </span>
    <h3>Description</h3>
    <p>
       If the link points to 'login' then, we parse the username and password from request body and match it with data stored in user array. If it matches, we store that user as current user.
    </p>
    

    <hr />
    <div class="h4">
    <h1>Source Code</h1>

    <a href="../../fileview/Default.aspx?~/experiments/developeride/public/EXP2.html" target="_blank">View Source Code</a><hr />
    <a href="../../fileview/Default.aspx?~/experiments/developeride/public/js/login.js" target="_blank">Client Side javascript</a><hr />
    <a href="../../fileview/Default.aspx?~/experiments/developeride/server.js">Server Side Javascript</a>
    <hr />
    <h1>Reference</h1>
    Prof.Jose's Lecture
        </div>
    </div>
</body>
</html>
